html_code = """
<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="UTF-8">
  <title>Klicka p√• Cirkeln!</title>
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(to right, #f5f7fa, #c3cfe2);
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    h1 {
      margin-top: 20px;
      font-size: 2rem;
      color: #333;
    }
    #score {
      font-size: 1.5rem;
      margin-bottom: 10px;
    }
    #gameArea {
      position: relative;
      width: 80%;
      max-width: 800px;
      height: 500px;
      background-color: #ffffff;
      border: 2px solid #aaa;
      border-radius: 16px;
      overflow: hidden;
      margin-bottom: 20px;
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
    }
    #circle {
      position: absolute;
      width: 60px;
      height: 60px;
      background-color: #e63946;
      border-radius: 50%;
      cursor: pointer;
      transition: all 0.2s ease;
    }
    #shop {
      width: 80%;
      max-width: 800px;
      padding: 20px;
      background: #ffffffcc;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      text-align: center;
    }
    .upgrade-btn {
      padding: 10px 15px;
      margin: 5px;
      border: none;
      border-radius: 8px;
      background-color: #457b9d;
      color: white;
      font-size: 1rem;
      cursor: pointer;
      transition: background-color 0.2s;
    }
    .upgrade-btn:disabled {
      background-color: #ccc;
      cursor: not-allowed;
    }
    #prestigeMessage {
      margin-top: 10px;
      color: #2a9d8f;
      font-weight: bold;
    }
  </style>
</head>
<body>

<h1>üî¥ Klicka p√• Cirkeln!</h1>
<div id="score">Po√§ng: 0</div>

<div id="gameArea">
  <div id="circle" onclick="hitCircle()"></div>
</div>

<div id="shop">
  <h2>üõí Uppgraderingar</h2>
  <div id="upgrade-buttons"></div>
  <div id="prestigeMessage"></div>
</div>

<script>
  let score = 0;
  let basePoints = 1;
  let multiplier = 1;
  let prestige = 1;
  let circleSize = 60;
  let moveSpeed = 200;
  let autoClickerInterval = null;
  let autoClickerSpeed = 1000;
  let prestigeBonus = 0;

  const circle = document.getElementById("circle");
  const gameArea = document.getElementById("gameArea");
  const scoreDisplay = document.getElementById("score");
  const prestigeMsg = document.getElementById("prestigeMessage");

  const trillion = 1_000_000_000_000;

  const upgrades = {
    biggerCircle: { label: "St√∂rre Cirkel", price: 250, bought: false },
    morePoints: { label: "+1 Po√§ng/klick", price: 100, count: 0 },
    fastMove: { label: "Snabbare R√∂relse", price: 1000, bought: false },
    miniCircle: { label: "Mini-Cirkel", price: 2000, bought: false },
    autoClicker: { label: "Autoclicker", price: 5000, bought: false },
    doubleClick: { label: "Dubbel Klickkraft", price: 15000, bought: false },
    fasterMove: { label: "Cirkel-Speed Boost", price: 30000, bought: false },
    prestigeBoost: { label: "Extra Prestige Po√§ng", price: 75000, count: 0 },
    fasterAutoClicker: { label: "Snabbare Autoclicker", price: 150000, bought: false },
    smallerGameArea: { label: "Mindre Spelyta", price: 250000, bought: false },
    blinkingCircle: { label: "Cirkelblink", price: 400000, bought: false },
    superClick: { label: "Super Klick +50", price: 500000, bought: false },
    permMultiplier: { label: "Evig Multiplikator", price: 1500000, count: 0 }
  };

  function updateScoreDisplay() {
    scoreDisplay.innerText = `Po√§ng: ${Math.floor(score).toLocaleString()} (Prestige x${prestige})`;
    saveGame();
  }

  function moveCircle() {
    const maxX = gameArea.clientWidth - circleSize;
    const maxY = gameArea.clientHeight - circleSize;
    const x = Math.random() * maxX;
    const y = Math.random() * maxY;
    circle.style.left = x + "px";
    circle.style.top = y + "px";
  }

  function hitCircle() {
    let extraPoints = 0;
    if (upgrades.superClick.bought) extraPoints += 50;
    const points = (basePoints + (upgrades.morePoints.count || 0) + extraPoints) * multiplier * prestige * (1 + 0.1 * (upgrades.prestigeBoost.count || 0));
    score += points;
    updateScoreDisplay();
    checkPrestige();
    moveCircle();
  }

  function createUpgradeButtons() {
    const container = document.getElementById("upgrade-buttons");
    for (const key in upgrades) {
      const btn = document.createElement("button");
      btn.id = `btn_${key}`;
      btn.className = "upgrade-btn";
      btn.onclick = () => buyUpgrade(key);
      btn.innerText = `${upgrades[key].label} (${upgrades[key].price.toLocaleString()} po√§ng)`;
      container.appendChild(btn);
    }
  }

  function buyUpgrade(type) {
    const upgrade = upgrades[type];
    if (!upgrade) return;
    if (score < upgrade.price) return;

    score -= upgrade.price;

    switch (type) {
      case "biggerCircle":
        if (!upgrade.bought) {
          circleSize = 90;
          upgrade.bought = true;
          disableButton(type);
        }
        break;
      case "morePoints":
        upgrade.count++;
        break;
      case "fastMove":
      case "fasterMove":
        if (!upgrade.bought) {
          moveSpeed = 100;
          circle.style.transition = `all ${moveSpeed}ms ease`;
          upgrade.bought = true;
          disableButton(type);
        }
        break;
      case "miniCircle":
        if (!upgrade.bought) {
          circleSize = 40;
          upgrade.bought = true;
          disableButton(type);
        }
        break;
      case "autoClicker":
        if (!upgrade.bought) {
          startAutoClicker();
          upgrade.bought = true;
          disableButton(type);
        }
        break;
      case "fasterAutoClicker":
        if (upgrades.autoClicker.bought && !upgrade.bought) {
          clearInterval(autoClickerInterval);
          autoClickerSpeed = 500;
          startAutoClicker();
          upgrade.bought = true;
          disableButton(type);
        }
        break;
      case "doubleClick":
        if (!upgrade.bought) {
          multiplier *= 2;
          upgrade.bought = true;
          disableButton(type);
        }
        break;
      case "prestigeBoost":
        upgrade.count++;
        break;
      case "smallerGameArea":
        if (!upgrade.bought) {
          gameArea.style.height = "300px";
          upgrade.bought = true;
          disableButton(type);
        }
        break;
      case "blinkingCircle":
        if (!upgrade.bought) {
          circle.style.animation = "blink 0.5s infinite alternate";
          addBlinkingStyle();
          upgrade.bought = true;
          disableButton(type);
        }
        break;
      case "superClick":
        upgrade.bought = true;
        disableButton(type);
        break;
      case "permMultiplier":
        upgrade.count++;
        multiplier += 1;
        break;
    }

    updateScoreDisplay();
  }

  function startAutoClicker() {
    autoClickerInterval = setInterval(() => {
      score += 1 * multiplier * prestige;
      updateScoreDisplay();
    }, autoClickerSpeed);
  }

  function disableButton(key) {
    const btn = document.getElementById("btn_" + key);
    if (btn) btn.disabled = true;
  }

  function checkPrestige() {
    if (score >= trillion) {
      prestige++;
      score = 0;
      multiplier = 1 + (upgrades.permMultiplier.count || 0);
      for (let key in upgrades) {
        if (typeof upgrades[key].bought === "boolean") upgrades[key].bought = false;
        if (typeof upgrades[key].count === "number") upgrades[key].count = 0;
      }
      circleSize = 60;
      moveSpeed = 200;
      autoClickerSpeed = 1000;
      clearInterval(autoClickerInterval);
      autoClickerInterval = null;
      circle.style.width = circleSize + "px";
      circle.style.height = circleSize + "px";
      gameArea.style.height = "500px";
      circle.style.transition = `all ${moveSpeed}ms ease`;
      circle.style.animation = "";
      document.getElementById("upgrade-buttons").innerHTML = "";
      createUpgradeButtons();
      prestigeMsg.innerText = `üîÅ Prestige aktiverad! Du √§r nu Prestige x${prestige}`;
      updateScoreDisplay();
    }
  }

  function saveGame() {
    const data = {
      score, prestige, upgrades, circleSize, moveSpeed, multiplier, autoClickerSpeed
    };
    localStorage.setItem("circleClickerSave", JSON.stringify(data));
  }

  function loadGame() {
    const save = localStorage.getItem("circleClickerSave");
    if (save) {
      const data = JSON.parse(save);
      score = data.score || 0;
      prestige = data.prestige || 1;
      multiplier = data.multiplier || 1;
      circleSize = data.circleSize || 60;
      moveSpeed = data.moveSpeed || 200;
      autoClickerSpeed = data.autoClickerSpeed || 1000;
      Object.assign(upgrades, data.upgrades || {});
      if (upgrades.autoClicker.bought) startAutoClicker();
      if (upgrades.blinkingCircle.bought) {
        addBlinkingStyle();
        circle.style.animation = "blink 0.5s infinite alternate";
      }
      if (upgrades.smallerGameArea.bought) gameArea.style.height = "300px";
      circle.style.transition = `all ${moveSpeed}ms ease`;
      circle.style.width = circleSize + "px";
      circle.style.height = circleSize + "px";
    }
  }

  function addBlinkingStyle() {
    const style = document.createElement("style");
    style.innerHTML = "@keyframes blink { from { opacity: 1; } to { opacity: 0.3; } }";
    document.head.appendChild(style);
  }

  // Init
  loadGame();
  createUpgradeButtons();
  updateScoreDisplay();
  moveCircle();
</script>

</body>
</html>
"""

with open("/mnt/data/klickspel_med_uppgraderingar.html", "w", encoding="utf-8") as f:
    f.write(html_code)

"/mnt/data/klickspel_med_uppgraderingar.html"
