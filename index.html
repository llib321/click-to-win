
<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="UTF-8">
  <title>Klicka p√• Cirkeln!</title>
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(to right, #f5f7fa, #c3cfe2);
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    #score, #ppc, #pps {
      font-size: 1.2rem;
      margin: 4px;
    }

    #gameContainer, #shop {
      width: 85%;
      max-width: 900px;
      background: #ffffffee;
      border-radius: 12px;
      padding: 20px;
      margin-top: 10px;
      box-shadow: 0 6px 18px rgba(0, 0, 0, 0.1);
    }

    #gameAreaWrapper {
      width: 100%;
      height: 500px;
      border-radius: 12px;
      background-color: #f0f4f8;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    #gameArea {
      position: relative;
      width: 95%;
      height: 90%;
      background-color: #ffffff;
      border: 2px solid #aaa;
      border-radius: 16px;
      overflow: hidden;
      box-shadow: inset 0 4px 8px rgba(0,0,0,0.1);
    }

    #circle {
      position: absolute;
      width: 60px;
      height: 60px;
      background-color: #e63946;
      border-radius: 50%;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .upgrade-btn {
      padding: 10px 15px;
      margin: 6px;
      border: none;
      border-radius: 8px;
      background-color: #457b9d;
      color: white;
      font-size: 1rem;
      cursor: pointer;
      transition: background-color 0.2s;
    }

    .upgrade-btn:disabled {
      background-color: #ccc;
      cursor: not-allowed;
    }

    #shop {
      display: none;
      text-align: center;
    }

    #upgrade-button {
      font-size: 1.4rem;
      padding: 14px 28px;
      background-color: #1d3557;
      color: white;
      border-radius: 10px;
      border: none;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
      cursor: pointer;
    }

  </style>
</head>
<body>

<div id="score">Po√§ng: 0</div>
<div id="ppc">Po√§ng/klick: 0</div>
<div id="pps">Po√§ng/sekund: 0</div>

<div id="gameContainer">
  <div id="gameAreaWrapper">
    <div id="gameArea">
      <div id="circle" onclick="hitCircle()"></div>
    </div>
  </div>
  <button id="upgrade-button" onclick="toggleShop(true)">üõçÔ∏è Uppgraderingar</button>
</div>

<div id="shop">
  <h2>üõí Uppgraderingar</h2>
  <div id="upgrade-buttons"></div>
  <button class="upgrade-btn" onclick="toggleShop(false)">‚¨Ö Tillbaka</button>
</div>

<script>
  let score = 0, basePoints = 1, multiplier = 1, prestige = 1;
  let autoClickerInterval = null, autoClickerSpeed = 1000, ppsCounter = 0;
  let originalGameAreaHeight = "90%";

  const scoreDisplay = document.getElementById("score");
  const ppcDisplay = document.getElementById("ppc");
  const ppsDisplay = document.getElementById("pps");
  const circle = document.getElementById("circle");
  const gameArea = document.getElementById("gameArea");

  function toggleShop(show) {
    document.getElementById("shop").style.display = show ? "block" : "none";
    document.getElementById("gameContainer").style.display = show ? "none" : "block";
  }

  const upgrades = {
    morePoints: { label: "+1 Po√§ng/klick", price: 100, count: 0, infinite: true },
    autoClicker: { label: "Autoclicker", price: 2500, count: 0, infinite: true },
    superClick: { label: "Super Klick +50", price: 30000, count: 0, infinite: true },
    tinyArea: { label: "Mindre Spelyta", price: 50000, count: 0 },
    multiClick: { label: "+2x Multiklick", price: 100000, count: 0, infinite: true },
    goldenClick: { label: "Guld-klick (100 extra)", price: 150000, count: 0, infinite: true },
    doublePoints: { label: "Dubbel baspo√§ng", price: 175000, count: 0, infinite: true },
    fasterAuto: { label: "Snabbare Auto", price: 200000, count: 0 },
    prestigeBoost: { label: "+1 Prestige", price: 250000, count: 0, infinite: true },
    autoBoost: { label: "+5 Po√§ng/sek", price: 275000, count: 0, infinite: true },
    clickStorm: { label: "Klickstorm +200", price: 300000, count: 0, infinite: true }
  };

  function hitCircle() {
    const bonus = (upgrades.superClick.count || 0) * 50 +
                  (upgrades.goldenClick.count || 0) * 100 +
                  (upgrades.clickStorm.count || 0) * 200;
    const base = basePoints + (upgrades.morePoints.count || 0);
    const points = (base + bonus) * multiplier * prestige;
    score += points;
    ppsCounter += points;
    updateUI();
    moveCircle();
  }

  function moveCircle() {
    const maxX = gameArea.clientWidth - circle.offsetWidth;
    const maxY = gameArea.clientHeight - circle.offsetHeight;
    circle.style.left = Math.random() * maxX + "px";
    circle.style.top = Math.random() * maxY + "px";
  }

  function buyUpgrade(key) {
    const u = upgrades[key];
    if (!u || score < u.price) return;
    score -= u.price;

    if (u.infinite) {
      u.count++;
    } else {
      u.count = 1;
    }

    switch (key) {
      case "morePoints": break;
      case "autoClicker":
        if (u.count === 1) {
          autoClickerInterval = setInterval(() => {
            score += 1 * multiplier * prestige;
            ppsCounter += 1 * multiplier * prestige;
            updateUI();
          }, autoClickerSpeed);
        }
        break;
      case "superClick": break;
      case "tinyArea": gameArea.style.height = "50%"; break;
      case "multiClick": multiplier *= 2; break;
      case "goldenClick": break;
      case "doublePoints": basePoints *= 2; break;
      case "fasterAuto":
        clearInterval(autoClickerInterval);
        autoClickerInterval = setInterval(() => {
          score += 1 * multiplier * prestige;
          ppsCounter += 1 * multiplier * prestige;
          updateUI();
        }, 500);
        break;
      case "prestigeBoost": prestige++; break;
      case "autoBoost":
        setInterval(() => {
          score += 5 * multiplier * prestige;
          ppsCounter += 5 * multiplier * prestige;
          updateUI();
        }, 1000);
        break;
    }

    updateUI();
  }

  function createUpgradeButtons() {
    const container = document.getElementById("upgrade-buttons");
    for (const key in upgrades) {
      const btn = document.createElement("button");
      btn.id = "btn_" + key;
      btn.className = "upgrade-btn";
      btn.onclick = () => buyUpgrade(key);
      btn.innerText = `${upgrades[key].label} (${upgrades[key].price.toLocaleString()} po√§ng)`;
      container.appendChild(btn);
    }
  }

  function updateUI() {
    scoreDisplay.innerText = `Po√§ng: ${Math.floor(score).toLocaleString()}`;
    const bonus = (upgrades.superClick.count || 0) * 50 +
                  (upgrades.goldenClick.count || 0) * 100 +
                  (upgrades.clickStorm.count || 0) * 200;
    const base = basePoints + (upgrades.morePoints.count || 0);
    const pointsPerClick = (base + bonus) * multiplier * prestige;
    ppcDisplay.innerText = `Po√§ng/klick: ${pointsPerClick}`;
    ppsDisplay.innerText = `Po√§ng/sekund: ${ppsLast}`;
  }

  function loadGame() {
    // Add optional localStorage logic here if needed
  }

  let ppsLast = 0;
  setInterval(() => {
    ppsLast = ppsCounter;
    ppsCounter = 0;
    updateUI();
  }, 1000);

  createUpgradeButtons();
  updateUI();
  moveCircle();
</script>

</body>
</html>

